# Задача на редизайн дашбордов главной страницы

Документ задаёт визуальный редизайн дашбордов на маршруте `/` для ролей **Ментор** и **Менти**. Функциональность, метрики и API остаются по [12-dashboards.md](../12-dashboards.md). Визуальный стиль и компоненты — по [DESIGN_REQUIREMENTS.md](DESIGN_REQUIREMENTS.md) и [DESIGN_AND_USER_JOURNEYS.md](DESIGN_AND_USER_JOURNEYS.md).

**Цель редизайна:** современный, «воздушный» и структурированный вид главной страницы: счётчики-виджеты сверху, чёткие блоки секций, карточки с иерархией и акцентами, консистентные пустые состояния и загрузка.

---

## 1. Контекст и источники

- **Поведение и данные:** [12-dashboards.md](../12-dashboards.md) — сценарии, метрики, виджеты, API `GET /api/dashboard`, порядок блоков (требуют решения → активные → завершённые).
- **Дизайн-система:** [DESIGN_REQUIREMENTS.md](DESIGN_REQUIREMENTS.md) — палитра (градиент teal–green, фиолетовый, синий), типографика, карточки, тени, скругления, кнопки, пустые состояния.
- **Текущая реализация:** дашборд уже выводит три секции и карточки; редизайн не меняет API и логику, только верстку и визуал.

---

## 2. Цели дизайна дашборда

- **Современность:** крупные счётчики (KPI) в начале страницы, карточки с ясной иерархией, акцент цветом/иконкой по типу блока.
- **Ощущение «воздуха»:** фон страницы `--color-bg-page`, достаточные отступы между секциями (24–32px), мягкие тени у карточек, не перегружать экран.
- **Структурированность:** один явный заголовок страницы, ряд метрик-плиток, затем три предсказуемых блока с заголовками и ссылкой «Все …» / «К связям».
- **Соответствие концепции проекта:** только токены цветов и компоненты из DESIGN_REQUIREMENTS; градиент — для primary-кнопок и акцентов; фиолетовый/синий — для иконок и вторичных действий.

---

## 3. Структура страницы (сверху вниз)

1. **Приветствие** — одна строка: «Добро пожаловать» или «Добро пожаловать, [Имя]» (если есть имя из профиля). Шрифт: заголовок страницы (24px), цвет `--color-text-primary`.
2. **Блок метрик (KPI-плитки)** — один ряд из трёх карточек-счётчиков (см. п. 4).
3. **Три секции контента** в фиксированном порядке:
   - Секция 1: «Требуют вашего решения» (ментор) / «Ожидают ответа» (менити).
   - Секция 2: «Активные менти» (ментор) / «Активные связи» (менити).
   - Секция 3: «Завершённые менторства» (ментор) / «Завершённые курсы» (менити).

В каждой секции: заголовок с числом, ссылка «Все входящие» / «Мои заявки» / «К связям» (по смыслу), затем список карточек или пустое состояние.

4. **Блок быстрых действий (опционально)** — при необходимости одна строка ссылок внизу (Каталог, Избранное, Мои заявки, Мои менторы/Мои менти, Профиль) в виде вторичных кнопок или текстовых ссылок, без перегруза. Либо убрать, если навигация в хедере достаточна.

---

## 4. Метрики (KPI-плитки)

В начале дашборда — **три плитки в один ряд** (на мобиле — в столбец или два столбца + один).

**Содержимое каждой плитки:**

- **Большое число** — значение счётчика (например 2, 1, 5). Размер шрифта крупный (28–32px), semibold/bold, цвет можно акцентный (градиент или `--color-text-primary`).
- **Подпись** — одна строка под числом: «Заявки на рассмотрении», «Активные менти» / «Активные связи», «Завершённые менторства» / «Завершённые курсы». Шрифт 14px, цвет `--color-text-secondary`.
- **Иконка (опционально)** — небольшая иконка в углу плитки (например конверт, люди, галочка) в цвете акцента (фиолетовый или teal по DESIGN_REQUIREMENTS).

**Стиль плитки:**

- Фон: `--color-surface`.
- Padding: 24px (по сетке из DESIGN_REQUIREMENTS).
- Border-radius: 8px.
- Тень: `0 4px 6px rgba(0, 0, 0, 0.05)` (светлая тема) / `0 4px 6px rgba(0, 0, 0, 0.2)` (тёмная).
- Можно добавить тонкую левую границу или лёгкий акцентный фон (например очень светлый teal для первой плитки, нейтральный для остальных), чтобы визуально различать типы метрик без перегруза.

**Источник данных:** счётчики из `dashboard.summary`: `pendingRequestsCount`, `activeConnectionsCount`, `completedMentorshipsCount`. Порядок плиток совпадает с порядком секций ниже.

---

## 5. Секции контента

**Заголовок секции:**

- Строка с заголовком и числом, например: «Требуют вашего решения (2)». Шрифт: заголовок секции (18–20px), semibold, `--color-text-primary`.
- Справа от заголовка — ссылка «Все входящие заявки» / «Мои заявки» / «К связям» (цвет `--color-accent-blue`, 14px). Отступ между заголовком и ссылкой — по сетке.

**Список карточек:**

- Вертикальный список с отступом между карточками 12–16px.
- Каждая карточка — компонент по п. 6 (Request / Connection / Completed).

**Пустое состояние секции:**

- Не оставлять секцию «пустой» без блока. Показывать одну карточку-заглушку или блок пустого состояния по п. 7.

---

## 6. Карточки дашборда

Общие правила для всех карточек (по DESIGN_REQUIREMENTS):

- Фон `--color-surface`, padding 24px, border-radius 8px, тень как у карточек в разделе 6 DESIGN_REQUIREMENTS.
- При hover (если карточка целиком кликабельна) — лёгкое поднятие тени (опционально).
- Кнопки: primary (градиент) для основного действия, secondary для «Отмена»/«Подробнее»/«Отвязаться», danger для «Отклонить». Размер не менее 44px по высоте на тач-устройствах; на десктопе допустим `size="sm"` для компактности.

### 6.1. Карточка заявки (pending request)

**Назначение:** заявка «на рассмотрении» (ментор) или «ожидает ответа» (менити).

**Содержимое:**

- Слева (или сверху на мобиле): аватар второй стороны (фото или круг с инициалами, размер например 40–48px), имя (имя + фамилия), при наличии — цель/специальность одной строкой (`--color-text-secondary`, 14px), превью письма (1–2 строки, `--color-text-muted`), дата (`--color-text-muted`, 12px).
- Справа (или под текстом на мобиле): действия. Ментор: кнопки «Принять» (primary), «Отклонить» (danger). Менти: кнопка/ссылка «Подробнее» (secondary) в «Мои заявки».

**Визуальное выделение секции (опционально):** тонкая левая граница карточки в цвете «ожидание» (например `--color-warning` или нейтральный) или маленькая иконка конверта/часов в цвете акцента.

**Состояния:** default; при отправке запроса — кнопки в состоянии loading (спиннер в кнопке); при ошибке — текст ошибки под карточкой или под кнопками красным (`--color-error`).

### 6.2. Карточка активной связи (active connection)

**Назначение:** активная связь (ментор видит менти, менти видит ментора).

**Содержимое:**

- Аватар второй стороны (инициалы или фото), имя, подпись «С [дата начала]» (`--color-text-muted`).
- Кнопки: «Завершить менторство» (primary), «Отвязаться» (secondary).

**Визуальное выделение (опционально):** левая граница или иконка в цвете `--color-accent-secondary` (фиолетовый) или teal, чтобы отличать от заявок и завершённых.

**Состояния:** default; loading при завершении или отвязке (спиннер в соответствующей кнопке).

### 6.3. Карточка завершённого менторства/курса (completed)

**Назначение:** связь с заполненным `completedAt`.

**Содержимое:**

- Аватар, имя второй стороны, подпись «Завершено [дата]»; при наличии `detachedAt` — «Отвязка [дата]» (`--color-text-muted`).
- Если связь ещё в статусе ACTIVE (можно отвязаться): кнопка «Отвязаться» (secondary). Иначе — без кнопки или ссылка «К связям».

**Визуальное выделение (опционально):** левая граница или иконка в цвете успеха (`--color-success`), чтобы блок «завершённые» читался как позитивный итог.

---

## 7. Пустые состояния секций

Для каждой секции при пустом списке показывать **один блок пустого состояния** по DESIGN_REQUIREMENTS (п. 7.9):

- **Иконка** — нейтральная или по смыслу (конверт, люди, галочка в круге). Цвет `--color-text-muted` или лёгкий акцент.
- **Заголовок** — одна строка: «Нет новых заявок», «Нет активных менти», «Пока нет завершённых менторств» (и аналоги для менти).
- **Краткий текст** — при необходимости одна строка пояснения.
- **Одна кнопка CTA** — где уместно: «Каталог менторов» / «Найти ментора» (в блоке активных связей для менти), «Входящие заявки» / «Мои заявки» (опционально). Для «завершённых» CTA можно не показывать.

Блок пустого состояния размещать внутри карточки с фоном `--color-surface` (чтобы не «висеть» в воздухе) или как отдельную карточку с центрированным контентом. Отступы — по сетке (24px внутри).

---

## 8. Состояние загрузки

Пока данные дашборда запрашиваются (`GET /api/dashboard`):

- Не показывать пустую структуру. Показать **скелетон** или **единый индикатор загрузки** по DESIGN_REQUIREMENTS (п. 7.8).
- Вариант 1: скелетон страницы — приветствие + три прямоугольника-плитки (метрики) + несколько прямоугольников-карточек с той же высотой, что и реальные карточки. Цвет скелетона — нейтральный серый (на тёмной теме чуть светлее фона).
- Вариант 2: центрированный спиннер с подписью «Загрузка дашборда…».

Рекомендуется скелетон для ощущения структуры и скорости восприятия.

---

## 9. Адаптивность

- **Десктоп (1025px+):** приветствие в одну строку; три KPI-плитки в один ряд; секции на всю ширину контейнера (max-width по общему layout приложения); карточки на всю ширину секции.
- **Планшет (641–1024px):** KPI-плитки в один ряд или в два ряда (2+1); карточки так же на всю ширину.
- **Мобильный (до 640px):** KPI-плитки в один столбец; в карточках контент и кнопки в столбец (имя и дата сверху, кнопки снизу), кнопки на полную ширину или в один столбец. Отступы между секциями сохранять (24–32px).

---

## 10. Дополнительные требования

- **Шрифты и цвета:** только из DESIGN_REQUIREMENTS (разделы 3 и 4). Не вводить новые оттенки.
- **Кнопки и ссылки:** варианты primary, secondary, danger и размеры по DESIGN_REQUIREMENTS; hover/focus/loading по п. 7.1.
- **Модальные окна** (подтверждение завершения менторства, отвязка с полем «Причина»): по DESIGN_REQUIREMENTS п. 7.6 (оверлей, карточка 12px radius, кнопки Подтвердить/Отмена). Логика без изменений.
- **Toast:** успешные и ошибочные сообщения выводить toast’ами по DESIGN_REQUIREMENTS п. 7.7.
- **Доступность:** заголовки секций — семантичные (h2); фокус на кнопках и ссылках не убирать; контраст текста по п. 12 DESIGN_REQUIREMENTS.

---

## 11. Чек-лист для разработчика

- [ ] Приветствие (с опциональным именем) и три KPI-плитки сверху; счётчики из `dashboard.summary`.
- [ ] Три секции в порядке: требуют решения/ожидают ответа → активные → завершённые; в каждой заголовок с числом и ссылка «Все …» / «К связям».
- [ ] Карточки заявки, активной связи и завершённой — по п. 6 (аватар/инициалы, типографика, кнопки primary/secondary/danger, опционально левая граница/иконка по типу).
- [ ] Пустые состояния секций — иконка, заголовок, при необходимости одна кнопка CTA; оформление по п. 7.
- [ ] Загрузка дашборда — скелетон (плитки + карточки) или спиннер по п. 8.
- [ ] Цвета, тени, скругления, типографика — только токены и правила из DESIGN_REQUIREMENTS.
- [ ] Адаптив: плитки и карточки перестраиваются по п. 9; кнопки на мобиле доступны (не только «Подробнее»).
- [ ] Модалки и toast без изменений логики, стили приведены к дизайн-системе.
- [ ] Админ и пользователь без роли: текущее поведение (приветствие + ссылки) сохраняется; редизайн касается только экрана с дашбордом (роль Ментор/Менти и успешная загрузка `dashboard`).

После выполнения чек-листа дашборд главной страницы должен выглядеть современно и соответствовать концепции дизайна проекта (воздух, структура, палитра, компоненты из DESIGN_REQUIREMENTS).
